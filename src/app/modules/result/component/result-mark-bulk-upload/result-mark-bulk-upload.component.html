<form nz-form [formGroup]="commonForm">

    <div class="card card-padding">
       
            <div class="row">
                <div class="col-lg-3"
                >
                  <label>Group Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Group required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="GROUP_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a group"
                        >
                          <nz-option *ngFor="let item of groupList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                >
                  <label>Class Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Class required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="CLASS_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a class"
                          (ngModelChange)="onSelectedClass($event)"
                        >
                        <nz-option *ngFor="let item of classList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-lg-3" *ngIf="isSectionVisible == true">
  
                    <label>Section Name
                        <span class="required-asterisk text-danger">*</span>
                    </label>
                    <div>
                      <nz-select nzAllowClear formControlName="SECTION_NAME"
                        
                    
                        nzPlaceHolder="Select section name" 
                        [nzCustomTemplate]="defaultTemplate" nzSize="default">
                        <nz-option *ngFor="let item of sectionlist" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                      </nz-select>
                      <ng-template #defaultTemplate let-selected>
                        {{ selected.nzLabel }}
                      </ng-template>
                     
                    </div>
          
                  </div>
                <div
                class="col-lg-3"
                  *ngIf="isVersionVisible == true">
                  <label>Version Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Version required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="VERSION_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a version"
                        >
                        <nz-option *ngFor="let item of versionList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                >
                  <label>Session Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Session required!">
                      <nz-input-group>
                        <nz-select
                        (ngModelChange)="onSessionChange($event)"
                          formControlName="SESSION_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a session"
                        >
                        <nz-option *ngFor="let item of sessionList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
                <div
                class="col-lg-3"
                  *ngIf="isYearVisible == true">
                  <label>Year Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Year required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="YEAR_NAME"
                          (ngModelChange)="onYearChange($event)"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a year"
                        >
                        <nz-option *ngFor="let item of yearList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                  *ngIf="isSemesterVisible == true">
                  <label>Semester Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Semester required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="SEMESTER_NAME"
                          (ngModelChange)="onSemesterChange($event)"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a semester"
                        >
                        <nz-option *ngFor="let item of semesterList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-lg-3">          
            
                  <label>Shift Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Shift required!">
                      <nz-input-group>
                        <nz-select nzAllowClear formControlName="SHIFT_CODE"
                        
                   
                        nzPlaceHolder="Select Shift name" 
                        [nzCustomTemplate]="defaultTemplate" nzSize="default">
                        <nz-option *ngFor="let item of shiftList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                      </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                  
                  </div> 
                  
                  <div class="col-lg-3">
           
                    <label>Subject Name
                        <span class="required-asterisk text-danger">*</span>
                    </label>
                    <nz-form-item>
                      <nz-form-control nzErrorTip="Subject name is required!">
                        <nz-input-group>
                      <nz-select nzAllowClear formControlName="SUBJECT_CODE"                                           
                        nzPlaceHolder="Select subject name" 
                        class="truncate-select"
                        [nzCustomTemplate]="defaultTemplate" nzSize="default">
                        <nz-option *ngFor="let item of assignsubject" [nzLabel]="item.NAME" [nzValue]="item.SUBJECT_CODE"></nz-option>
                      </nz-select>
                      <ng-template #defaultTemplate let-selected>
                        {{ selected.nzLabel }}
                      </ng-template>
                    </nz-input-group>
                  </nz-form-control>
                    </nz-form-item>
          
                  </div>
                
                <div
                class="col-lg-3" >
                  <label>Term Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Term required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="TERM_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a term"
                          (ngModelChange)="onexamType($event)"
                        >
                        <nz-option *ngFor="let item of examTermList" [nzLabel]="item.NAME" [nzValue]="item.ID"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
             
         
       
  
                <div class="col-lg-6">
                  <label>Exam Type Name
                    <span class="required-asterisk text-danger">*</span>
                  </label>
                  <div>
                    <nz-select formControlName="EXAM_TYPE_ID"
                      nzDisabled
                      nzPlaceHolder="Select exam type name" 
                      [nzCustomTemplate]="defaultTemplate" nzSize="default"
                      [nzMode]="'multiple'"
                      >
                      <nz-option *ngFor="let item of examCaptionList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                    </nz-select>
                  </div>
                </div>

               
        
             
            </div>
     <div class="row">
      <div class="col-lg-2">
        <div class="btn-margin">
          <button
          nz-button
          nzType="primary"
          [nzLoading]="isSearchLoading"
          type="button"
          style="margin-top: 22px;"
          nzDanger
          nzSize="default"
           class="button-view"
          (click)="filedownload()"
    
        >
        Download Sample File
        </button>
        
        </div>
      </div>
     
      <div class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
        <br>
        <input
        type="file"
        (change)="onFileChange($event)"
        style="display: none"
        #fileInput
      />
      <a>
      <button class="button-search" nz-button  nzSize="default" nzType="primary"
            (click)="fileInput.click()">Uplaod</button>
      </a>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
      <br>
        <div class="file-details" *ngIf="selectedFile">
          <div style="margin-left: 10px" class="file-info">
            {{ selectedFile.name }}
          </div>

          
        </div>
      </div>
     </div>
          
          
   </div>   


   <div class="card card-padding mt-3">
   
    <div class="form-group row">
      <div class="col-lg-12">
        <div class="table-header">
          <nz-table #basicTable nzTableLayout="fixed" 
          [nzData]="tablestudentdataList"
            nzSize="small" nzShowPagination="false" nzBordered nzResponsive > 
            <thead>
             
              <tr>
                <th style="width: 4%;" >No</th>
                <th >Student Code</th>
                <th >Student Name</th>
                <th >Class Roll</th>
                <th  *ngFor="let item of examCaptionList">{{item.NAME}}</th>
               
               
              </tr>
            </thead>
            <tbody >
              <tr  *ngFor="let row of studentList; let i = index" >
                <td *ngFor="let column of row">                                                      
                        {{column}} 
                 
                </td>             
               
              </tr>
            </tbody>
          </nz-table>
        </div>
        
     
        <!-- <div class="table-body" style=" overflow-y: auto;">
          <nz-table #basicTable nzTableLayout="fixed" [nzData]="studentList"
          nzSize="small" nzShowPagination="false" nzBordered  nzResponsive>
            <tbody >
              <tr  *ngFor="let row of studentList; let i = index" >
                <td *ngFor="let column of row">
                                  
                       
                        {{column}}
                 
                </td>             
               
              </tr>
            </tbody>
          </nz-table>
        </div> -->
      </div>


     
    </div>
    <br>
    <div class="col-lg-3 mt-2" >
      <button
      type="button"
      class="button-save"
      nz-button
      nzType="primary"
      (click)="prepareSave()"
      [nzLoading]="isSaveLoading"
    >
      Save
    </button>
    </div>
  </div>
  
   </form>
