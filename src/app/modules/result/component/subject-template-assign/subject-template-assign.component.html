
<form nz-form [formGroup]="commonForm">

    <div class="card card-padding">
       
            <div class="row">
                <div class="col-lg-3"
                >
                  <label>Group Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Group required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="GROUP_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a group"
                        >
                          <nz-option *ngFor="let item of groupList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                >
                  <label>Class Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Class required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="CLASS_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a class"
                          (ngModelChange)="onSelectedClass($event)"
                        >
                        <nz-option *ngFor="let item of classList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div class="col-lg-3" *ngIf="isSectionVisible == true">
  
                    <label>Section Name
                        <span class="required-asterisk text-danger">*</span>
                    </label>
                    <div>
                      <nz-select nzAllowClear formControlName="SECTION_NAME"
                        
                    
                        nzPlaceHolder="Select section name" 
                        [nzCustomTemplate]="defaultTemplate" nzSize="default">
                        <nz-option *ngFor="let item of sectionlist" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                      </nz-select>
                      <ng-template #defaultTemplate let-selected>
                        {{ selected.nzLabel }}
                      </ng-template>
                     
                    </div>
          
                  </div>
                <div
                class="col-lg-3"
                  *ngIf="isVersionVisible == true">
                  <label>Version Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Version required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="VERSION_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a version"
                        >
                        <nz-option *ngFor="let item of versionList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                >
                  <label>Session Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Session required!">
                      <nz-input-group>
                        <nz-select
                        
                          formControlName="SESSION_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a session"
                        >
                        <nz-option *ngFor="let item of sessionList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
                <div
                class="col-lg-3"
                  *ngIf="isYearVisible == true">
                  <label>Year Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Year required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="YEAR_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a year"
                        >
                        <nz-option *ngFor="let item of yearList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
          
          
                <div
                class="col-lg-3"
                  *ngIf="isSemesterVisible == true">
                  <label>Semester Name<span style="color: red">*</span></label>
                  <nz-form-item>
                    <nz-form-control nzErrorTip="Semester required!">
                      <nz-input-group>
                        <nz-select
                          formControlName="SEMESTER_NAME"
                          nzShowSearch
                          nzAllowClear
                          nzPlaceHolder="Select a semester"
                        >
                        <nz-option *ngFor="let item of semesterList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
          
                        </nz-select>
                      </nz-input-group>
                    </nz-form-control>
                  </nz-form-item>
                </div>
            
                <div class="col-lg-3">          
            
                    <label>Shift Name<span style="color: red">*</span></label>
                    <nz-form-item>
                      <nz-form-control nzErrorTip="Shift required!">
                        <nz-input-group>
                          <nz-select nzAllowClear formControlName="SHIFT_CODE"                  
                          nzPlaceHolder="Select Shift name" 
                           nzSize="default">
                          <nz-option *ngFor="let item of shiftList" [nzLabel]="item.NAME" [nzValue]="item.CODE"></nz-option>
                        </nz-select>
                        </nz-input-group>
                      </nz-form-control>
                    </nz-form-item>
                       
                       
                       
                      
            
            
            
                    </div> 
         
                    <div class="col-6">
                   
                        <label>All Subject Templates</label>
                      <div>
                        <nz-select nzAllowClear 
                        formControlName="SUBJECT_TEMPLATE_ID"
                        (ngModelChange)="selectSubjectTemplate($event)"
                        
                          nzPlaceHolder="Select Subject Template" 
                          [nzCustomTemplate]="defaultTemplate" nzSize="default">
                          <nz-option *ngFor="let item of subjecTemptList" [nzLabel]="item.COURSE_OUTLINE_TEMPLATE_DESC" [nzValue]="item.SUBJECT_TEMPLATE_ID"></nz-option>
                        </nz-select>
                        <ng-template #defaultTemplate let-selected>
                          {{ selected.nzLabel }}
                        </ng-template>
                        
                      </div>
                   
                </div>
  
                <div class="col-lg-1">
                  <div class="btn-margin">
                    <button
                    nz-button
                    nzType="primary"
                    
                    [nzLoading]="isSearchLoading"
                    type="button"
                    style="margin-top: 22px;"
                    nzDanger
                    nzSize="default"
                   class="button-search"
                    (click)="getStudent()"
              
                  >
                  Search
                  </button>
                  
                  </div>
                </div>
               
                <div class="col-lg-1">
                    <div class="btn-margin">
                      <button
                      nz-button
                      nzType="primary"
                      [nzLoading]="isSaveLoading"
                      type="button"
                      style="margin-top: 22px;"
                      nzDanger
                      nzSize="default"
                     class="button-save"
                      (click)="SaveSubjectTemplateAssign()"
                
                    >
                    Assign
                    </button>
                    
                    </div>
                  </div>
        
             
            </div>

          
     
          
          
   </div> 


   
<br>
   <div class="row">
    <div class="col-lg-3">
        <div class="card card-padding">
          <div style="height: 700px; overflow-y: auto" >
            <label class="custom-label">Search</label>
            <div>
            <input
              formControlName="SEARCH_1"
              nz-input
              placeholder="search here"
              nzSize="default"
              (keyup)="onSearchSubjectStudent($event)"
            />
        </div>
        <nz-table
        #rowSelectionTableStudent
        nzShowSizeChanger
       
        [nzData]="searchDatastudentlist"
        nzSize="small"
      
      >
        <thead>
          <tr>
            <th style="text-align: left !important;"
              [nzSelections]="listOfSelectionStudent"
              [(nzChecked)]="checkedStudent"
              [nzDisabled]="checkboxDisableStudent"
              [nzIndeterminate]="indeterminateStudent"
              (nzCheckedChange)="onAllCheckedStudent($event)"
            ></th>
            <th> Student  </th>
            
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of rowSelectionTableStudent.data; let i = index">
            <td style="text-align: left !important;"
              [nzChecked]="setOfCheckedIdStudent.has(data.SC)"
              (nzCheckedChange)="onItemCheckedStudent(data.SC, $event)"
            ></td>
            <td>{{data.SN }} -({{data.SC }})    </td>
           
          </tr>
        </tbody>
      </nz-table>
      <div>
        <nz-pagination
        [nzPageIndex]="currentPage"
        [nzTotal]="nzTotalSize"
        [nzPageSize]="30"
         nzShowQuickJumper
         (nzPageIndexChange)="pageIndex($event)">
      </nz-pagination>

      </div>
           
          
        </div>
        </div>
    </div>
    <div class="col-lg-3">
       <div class="card card-padding">
        <div style="height: 700px; overflow-y: auto">
          <label class="custom-label">Search</label>
          <div>
          <input
            formControlName="SEARCH_2"
            nz-input
            placeholder="search here"
            nzSize="default"
            (keyup)="onSearchSubjectCompusary($event)"
          />
      </div>
      <nz-table
      #basicTable
   
      nzSize="small"
      nzShowPagination="false" nzBordered  nzResponsive
      [nzData]="SubjectListCompusary"
      (nzCurrentPageDataChange)="onCurrentPageDataChangeCompusary($event)"
    >
      <thead>
        <tr>
          <th style="text-align: left !important;"
            [nzSelections]="listOfSelectionCompusary"
            [(nzChecked)]="checkedCompusary"
            [nzDisabled]="checkboxDisableCompusary"
            [nzIndeterminate]="indeterminateCompusary"
            (nzCheckedChange)="onAllCheckedCompusary($event)"
          ></th>
          <th> Compulsory Subjects </th>
          
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of SubjectListCompusary; let i = index">
          <td style="text-align: left !important;"
            [nzChecked]="setOfCheckedIdCompusary.has(data.SUBJECT_CODE)"
            (nzCheckedChange)="onItemCheckedCompusary(data.SUBJECT_CODE, $event)"
          ></td>
          <td>{{data.SUBJECT_NAME }} -({{data.SUBJECT_CODE }})    </td>
         
        </tr>
      </tbody>
    </nz-table>

    



      </div>
       </div>
      </div>
    <div class="col-lg-3">
      <div class="card card-padding">
        <div  style="height: 700px; overflow-y: auto">
          <label class="custom-label">Search</label>
          <div>
          <input
            formControlName="SEARCH_2"
            nz-input
            placeholder="search here"
            nzSize="default"
            (keyup)="onSearchSubjectThird($event)"
          />
      </div>

      <nz-table
      #basicTable
   
      nzSize="small"
      nzShowPagination="false" nzBordered  nzResponsive
      [nzData]="SubjectListThird"
      (nzCurrentPageDataChange)="onCurrentPageDataChangeThird($event)"
    >
      <thead>
        <tr>
          <th style="text-align: left !important;"
            [nzSelections]="listOfSelectionThird"
            [(nzChecked)]="checkedThird"
            [nzDisabled]="checkboxDisableThird"
            [nzIndeterminate]="indeterminateThird"
            (nzCheckedChange)="onAllCheckedThird($event)"
          ></th>
          <th> Third Subjects </th>
          
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of SubjectListThird; let i = index">
          <td style="text-align: left !important;"
            [nzChecked]="setOfCheckedIdThird.has(data.SUBJECT_CODE)"
            (nzCheckedChange)="onItemCheckedThird(data.SUBJECT_CODE, $event)"
          ></td>
          <td>{{data.SUBJECT_NAME }} -({{data.SUBJECT_CODE }})    </td>
         
        </tr>
      </tbody>
    </nz-table>
     
  


      </div>
    </div>
  </div>
    <div class="col-lg-3">
      <div class="card card-padding">
        <div style="height: 700px; overflow-y: auto" >
          <label class="custom-label">Search</label>
          <div>
          <input
            formControlName="SEARCH_3"
            nz-input
            placeholder="search here"
            nzSize="default"
            (keyup)="onSearchSubjectFourth($event)"
          />
      </div>
      <nz-table
      #basicTable
   
    nzSize="small"
    nzShowPagination="false" nzBordered  nzResponsive
      [nzData]="SubjectListFourth"
      (nzCurrentPageDataChange)="onCurrentPageDataChangeFourth($event)"
    >
      <thead>
        <tr>
          <th style="text-align: left !important;"
            [nzSelections]="listOfSelectionFourth"
            [(nzChecked)]="checkedFourth"
            [nzDisabled]="checkboxDisableFourth"
            [nzIndeterminate]="indeterminateFourth"
            (nzCheckedChange)="onAllCheckedFourth($event)"
          ></th>
          <th> Fourth Subjects </th>
          
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of SubjectListFourth; let i = index">
          <td style="text-align: left !important;"
            [nzChecked]="setOfCheckedIdFourth.has(data.SUBJECT_CODE)"
            (nzCheckedChange)="onItemCheckedFourth(data.SUBJECT_CODE, $event)"
          ></td>
          <td>{{data.SUBJECT_NAME }} -({{data.SUBJECT_CODE }})    </td>
         
        </tr>
      </tbody>
    </nz-table>
     
  


      </div>
  
      </div>
    </div>
   </div>
  
  
   
   
   
</form>